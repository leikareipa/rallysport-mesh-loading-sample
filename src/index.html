<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Rally-Sport mesh sample</title>

        <meta name="viewport" content="width=device-width">
        <meta http-equiv="content-type" content="text/html; charset=UTF-8">

        <script src="https://cdn.jsdelivr.net/npm/vue@3.1.1/dist/vue.global.js" crossorigin="anonymous" integrity="sha384-MIMvVyIyheJKNP5BQNBUzx4JieX7Q5OBTRfVcgjeuLBdllVTCmu1lBPgtkDVKaBN"></script>
        <script src="https://unpkg.com/vuex@4.0.0/dist/vuex.global.js" crossorigin="anonymous" integrity="sha384-kyee6BrPEnlefRkepwMRF1Mf7h+8pxnolcmyvNq0now4MDG+sfhu32kmfca6Uprk"></script>
        
        <link rel="stylesheet" href="./mesh-preview/mesh-preview.css">
        <script src="./mesh-preview/mesh-preview.js"></script>
        
        <script src="./load-mesh.js"></script>

        <style>
            body {
                background-color: white;
            }
            
            .control-panel {
                display: none;
            }

            .hidden {
                display: none;
            }

            .ui {
                position: fixed;
                z-index: 999999;
                bottom: 10px;
                right: 10px;
                display: flex;
                flex-direction: row;
                align-items: center;
            }

            .ui button.next {
                padding: 10px;
            }

            .ui #mesh-name
            {
                margin-right: 1ch;
            }
        </style>
    </head>
    <body>

        <div class="ui">
            <div id="mesh-name">
                Fence
            </div>
            <button class="next" onclick="next_mesh()">
                Next
            </button>
        </div>

        <mesh-preview>

            <wireframe-mesh
                id="fence"
                src-function="load_object_mesh(0x47e2, 0x4c98)"
            ></wireframe-mesh>

            <wireframe-mesh
                id="traffic-sign"
                src-function="load_object_mesh(0x4766, 0x4c20)"
            ></wireframe-mesh>
            
            <wireframe-mesh
                id="stone-arch"
                src-function="load_object_mesh(0x4ff2, 0x51e0)"
            ></wireframe-mesh>
            
            <wireframe-mesh
                id="stone-post"
                src-function="load_object_mesh(0x4aba, 0x4aec)"
            ></wireframe-mesh>
            
            <wireframe-mesh
                id="rock"
                src-function="load_object_mesh(0x4932, 0x49e4)"
            ></wireframe-mesh>
            
            <wireframe-mesh
                id="billboard"
                src-function="load_object_mesh(0x4466, 0x4560)"
            ></wireframe-mesh>
            
            <wireframe-mesh
                id="house"
                src-function="load_object_mesh(0x48ee, 0x4b7c)"
            ></wireframe-mesh>
            
            <wireframe-mesh
                id="utility-pole"
                src-function="load_object_mesh(0x4324, 0x434a)"
            ></wireframe-mesh>

            <wireframe-mesh
                id="tree"
                src-function="load_object_mesh(0xd02c, 0xd088)"
            ></wireframe-mesh>
            
            <wireframe-mesh
                id="finish"
                src-function="load_object_mesh(0x5488, 0x5502)"
            ></wireframe-mesh>
            
            <wireframe-mesh
                id="finish-arch"
                src-function="load_object_mesh(0x50d2, 0x51c4)"
            ></wireframe-mesh>

        </mesh-preview>

        <script>
            meshes = [
                {label:"Fence", id:"fence"},
                {label:"Traffic sign", id:"traffic-sign"},
                {label:"Stone arch", id:"stone-arch"},
                {label:"Stone post", id:"stone-post"},
                {label:"Rock", id:"rock"},
                {label:"Billboard", id:"billboard"},
                {label:"House", id:"house"},
                {label:"Utility pole", id:"utility-pole"},
                {label:"Tree", id:"tree"},
                {label:"Finish", id:"finish"},
                {label:"Finish (arch)", id:"finish-arch"},
            ];

            function next_mesh()
            {
                meshes.push(meshes.shift());
                window.location.hash = meshes[0].id;
                document.getElementById("mesh-name").textContent = meshes[0].label;
            }
        </script>
    </body>
</html>
